syntax = "proto2";
package cp;

message Render {
  optional int32 height = 1;
  optional int32 width = 2;
  optional bytes png_bytes = 3;
}

message State {
  // poses are (px, py, pz, oa, ob, oc, od)
  repeated float cart_pose = 1;
  repeated float pole_pose = 2;
  optional Render render = 3;
}

// Event corresponds to output from one step of simulation
// e.g. step(action) -> state, reward, done.
// For env.reset case event has state but no action, reward
// or is_terminal.
// Assume last event in episode is terminal event (done=True)
message Event {
  repeated float action = 1;
  repeated State state = 2;
  optional float reward = 3;
}

message Episode {
  repeated Event event = 1;
}
